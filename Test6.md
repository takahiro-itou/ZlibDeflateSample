# Test Data 6

##  ヘッダ

- 78 9C

```
・0111 1000  1001 1100
↓
・0111 1000 10 0 11100

0111  : Window Size = 7 => 2^(7+8) = 32k
1000  : 圧縮モード 8 (Z_DEFLATE)
10    : 圧縮レベル 2
0     : プリセット辞書 (なし)
11100 : ヘッダチェック
```

##  Deflate ブロック

```
Bytes:
(追加のヘッダ 24 バイト)    .. .. ED D5 BD AE 24 47
15 00 E0 FA E9 EE 99 B9     F7 E2 BD BB 32 60 7B 4D
40 6A 07 08 24 24 07 88     08 C9 09 84 48 2B 8B C4
```

###   Deflate ヘッダ

```
ADDR:   001A
BYTE:   ED
BITS:   .... .101
PATS:   1 10

|  Size  | Value |      Comment      |
|-------:|:------|:------------------|
|  1 bit | 1     | 最終ブロック      |
|  2 bit | 10    | カスタムハフマン  |

###   各データの個数

```
ADDR:   001A        001B        001C
BYTE:   ED          D5          BD
BITS:   1110 1...   1101 0101   .... ...1
PATS:   01000 10100 0111
```

|  Data  |  Size  |  ADDR  |  PAT  | Value | 実際の個数 |
|:-------|-------:|:------:|:------|------:|-----------:|
| HLIT   |  5 bit | 000A.3 | 11101 |    29 |        286 |
| HDIST  |  5 bit | 000B.0 | 10101 |    21 |         22 |
| HCLEN  |  4 bit | 000B.5 | 1110  |    14 |         18 |

###   符号長の符号

####  符号長の符号長 (54bits)

```
ADDR:   001C        001D        001E        001F        0020        0021        0022
BYTE:   BD          AE          24          47          15          00          E0
BITS:   1011 110.   1010 1110   0010 0100   0100 0111   0001 0101   0000 0000   .110 0000
ID  :    16  17  18   0   8   7   9   6  10   5  11   4  12   3  13   2  14   1  15
```

| ID |  ADDR  | PAT | Value |
|---:|:------:|:----|------:|
| 16 | 001C.1 | 110 |     6 |
| 17 | 001C.4 | 011 |     3 |
| 18 | 001C.7 | 101 |     5 |
|  0 | 001D.2 | 011 |     3 |
|  8 | 001D.5 | 101 |     5 |
|  7 | 001E.0 | 100 |     4 |
|  9 | 001E.3 | 100 |     4 |
|  6 | 001E.6 | 100 |     4 |
| 10 | 001F.1 | 011 |     3 |
|  5 | 001F.4 | 100 |     4 |
| 11 | 001F.7 | 010 |     2 |
|  4 | 0020.2 | 101 |     5 |
| 12 | 0020.5 | 000 |     0 |
|  3 | 0021.0 | 000 |     0 |
| 13 | 0021.3 | 000 |     0 |
|  2 | 0021.6 | 000 |     0 |
| 14 | 0022.1 | 000 |     0 |
|  1 | 0022.4 | 110 |     6 |
| 15 |  N.A.  | *** |     0 |

####  符号長のカノニカルハフマン符号

| 符号長 | 符号長の符号長 | 符号長の符号 |
|-------:|---------------:|:-------------|
|     11 |              2 | 00           |
|      0 |              3 | 010          |
|     10 |              3 | 011          |
|     17 |              3 | 100          |
|      5 |              4 | 1010         |
|      6 |              4 | 1011         |
|      7 |              4 | 1100         |
|      9 |              4 | 1101         |
|      4 |              5 | 11100        |
|      8 |              5 | 11101        |
|     18 |              5 | 11110        |
|      1 |              6 | 111110       |
|     16 |              6 | 111111       |

###   文字／一致長の符号長

- HLIT=286

####  文字／一致長の符号長表
```
ADDR:   022         023         024         025         026         027
BYTE:   E0          FA          E9          EE          99          B9
BITS:   1... ....   1111 1010   1110 1001   1110 1110   1001 1001   1011 1001
```

|  Index  |  ADDR  |  PATS  | ExtraBit | Len | 結果 |
|--------:|:------:|:-------|:---------|----:|-----:|
|       0 | 0022.7 | 1010   |          |     |    7 |
| 1  -  3 | 0023.3 | 111111 | 00       |   3 |    7 |
|       4 | 0024.3 | 1011   |          |     |    9 |
|       5 | 0024.7 | 1011   |          |     |    9 |
|       6 | 0025.3 | 1011   |          |     |    9 |
|       7 | 0025.7 | 1100   |          |     |    6 |
|       8 | 0026.3 | 1100   |          |     |    6 |
|       9 | 0026.7 | 1100   |          |     |    6 |

| 0  - 64 | 00A.7 | 10   | 011 0110 |  65 |    0 |
|      65 | 00C.0 | 1110 |          |     |    2 |
|      66 | 00C.4 | 0    |          |     |    3 |
|      67 | 00C.5 | 0    |          |     |    3 |
|      68 | 00C.6 | 0    |          |     |    3 |
| 69 - 81 | 00C.7 | 10   | 010 0000 |  13 |    0 |
|      82 | 00E.0 | 0    |          |     |    3 |
|  83-220 | 00E.1 | 10   | 11111 11 | 138 |    0 |
| 221-255 | 00F.2 | 10   | 0001 100 |  35 |    0 |
|     256 | 010.3 | 0    |          |     |    3 |
|     257 | 010.4 | 1100 |          |     |    0 |
|     258 | 011.0 | 0    |          |     |    3 |
| 259-285 | ***** | **** |          |     |    0 |



